<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    
    <title>VertexFrame column_median &mdash; Trusted Analytics Platform 0.4.0 documentation</title>
    
    <link rel="stylesheet" type="text/css" href="../../../_static/css/spc-bootstrap.css">
    <link rel="stylesheet" type="text/css" href="../../../_static/css/spc-extend.css">
    <link rel="stylesheet" href="../../../_static/scipy.css" type="text/css" >
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" >
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '0.4.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/js/copybutton.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" >
    <link rel="top" title="Trusted Analytics Platform 0.4.0 documentation" href="../../../index.html" >
    <link rel="up" title="Frames VertexFrame" href="index.html" >
    <link rel="next" title="VertexFrame column_mode" href="column_mode.html" >
    <link rel="prev" title="VertexFrame classification_metrics" href="classification_metrics.html" > 
  </head>
  <body>

  <div class="container">
    <div class="header">
    </div>
  </div>


    <div class="container">
      <div class="main">
        
	<div class="row-fluid">
	  <div class="span12">
	    <div class="spc-navbar">
              
    <ul class="nav nav-pills pull-left">
	
        <li class="active"><a href="../../../index.html">Trusted Analytics</a></li>
	
          <li class="active"><a href="../../index.html" >Python API</a></li>
          <li class="active"><a href="../index.html" >Frames</a></li>
          <li class="active"><a href="index.html" accesskey="U"><code class="docutils literal"><span class="pre">Frames</span></code> VertexFrame</a></li> 
    </ul>
              
              
    <ul class="nav nav-pills pull-right">
      <li class="active">
        <a href="classification_metrics.html" title="VertexFrame classification_metrics"
           accesskey="P">previous</a>
      </li>
      <li class="active">
        <a href="column_mode.html" title="VertexFrame column_mode"
           accesskey="N">next</a>
      </li>
      <li class="active">
        <a href="../../../genindex.html" title="General Index"
           accesskey="I">index</a>
      </li>
    </ul>
              
	    </div>
	  </div>
	</div>
        

	<div class="row-fluid">
      <div class="spc-rightsidebar span3">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
<h3><a href="../../../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../intro.html">Technical Summary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ds_over.html">User Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev_over.html">Extending Trusted Analytics Platform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ad_over.html">Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rest_api/v1/index.html">REST API</a></li>
</ul>
<ul class="simple">
</ul>

        </div>
      </div>
          <div class="span9">
            
        <div class="bodywrapper">
          <div class="body" id="spc-section-body">
            
  <div class="section" id="vertexframe-column-median">
<h1><a class="reference internal" href="index.html"><em>VertexFrame</em></a>  column_median<a class="headerlink" href="#vertexframe-column-median" title="Permalink to this headline">¶</a></h1>
<hr class="docutils" />
<dl class="function">
<dt id="column_median">
<code class="descname">column_median</code><span class="sig-paren">(</span><em>self</em>, <em>data_column</em>, <em>weights_column=None</em><span class="sig-paren">)</span><a class="headerlink" href="#column_median" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the (weighted) median of a column.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>data_column</strong> : unicode</p>
<blockquote>
<div><p>The column whose median is to be calculated.</p>
</div></blockquote>
<p><strong>weights_column</strong> : unicode (default=None)</p>
<blockquote>
<div><p>The column that provides weights (frequencies)
for the median calculation.
Must contain numerical data.
Default is all items have a weight of 1.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">: dict</p>
<blockquote class="last">
<div><dl class="docutils">
<dt>varies</dt>
<dd><p class="first last">The median of the values.
If a weight column is provided and no weights are finite numbers greater
than 0, None is returned.
The type of the median returned is the same as the contents of the data
column, so a column of Longs will result in a Long median and a column of
Floats will result in a Float median.</p>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p>The median is the least value X in the range of the distribution so that
the cumulative weight of values strictly below X is strictly less than half
of the total weight and the cumulative weight of values up to and including X
is greater than or equal to one-half of the total weight.</p>
<p>All data elements of weight less than or equal to 0 are excluded from the
calculation, as are all data elements whose weight is NaN or infinite.
If a weight column is provided and no weights are finite numbers greater
than 0, None is returned.</p>
<p class="rubric">Examples</p>
<p>Given a frame with column &#8216;a&#8217; accessed by a Frame object &#8216;my_frame&#8217;:</p>
<div class="code highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">trustedanalytics</span> <span class="kn">as</span> <span class="nn">ta</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ta</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="go">Connected ...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">2</span><span class="p">],[</span><span class="mi">3</span><span class="p">],[</span><span class="mi">3</span><span class="p">],[</span><span class="mi">5</span><span class="p">],[</span><span class="mi">7</span><span class="p">],[</span><span class="mi">10</span><span class="p">],[</span><span class="mi">30</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">schema</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="n">ta</span><span class="o">.</span><span class="n">int32</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_frame</span> <span class="o">=</span> <span class="n">ta</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">ta</span><span class="o">.</span><span class="n">UploadRows</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">schema</span><span class="p">))</span>
<span class="go">[===Job Progress===]</span>
</pre></div>
</div>
<p>Inspect my_frame</p>
<div class="code highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">my_frame</span><span class="o">.</span><span class="n">inspect</span><span class="p">()</span>
<span class="go">[#]  a</span>
<span class="go">=======</span>
<span class="go">[0]   2</span>
<span class="go">[1]   3</span>
<span class="go">[2]   3</span>
<span class="go">[3]   5</span>
<span class="go">[4]   7</span>
<span class="go">[5]  10</span>
<span class="go">[6]  30</span>
</pre></div>
</div>
<p>Compute and return middle number of values in column <em>a</em>:</p>
<div class="code highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">median</span> <span class="o">=</span> <span class="n">my_frame</span><span class="o">.</span><span class="n">column_median</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">)</span>
<span class="go">[===Job Progress===]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">median</span>
<span class="go">5</span>
</pre></div>
</div>
<p>Given a frame with column &#8216;a&#8217; and column &#8216;w&#8217; as weights accessed by a Frame object &#8216;my_frame&#8217;:</p>
<div class="code highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">2</span><span class="p">,</span><span class="mf">1.7</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mf">0.5</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mf">1.2</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mf">0.8</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mf">1.1</span><span class="p">],[</span><span class="mi">10</span><span class="p">,</span><span class="mf">0.8</span><span class="p">],[</span><span class="mi">30</span><span class="p">,</span><span class="mf">0.1</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">schema</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="n">ta</span><span class="o">.</span><span class="n">int32</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;w&#39;</span><span class="p">,</span> <span class="n">ta</span><span class="o">.</span><span class="n">float32</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_frame</span> <span class="o">=</span> <span class="n">ta</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">ta</span><span class="o">.</span><span class="n">UploadRows</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">schema</span><span class="p">))</span>
<span class="go">[===Job Progress===]</span>
</pre></div>
</div>
<p>Inspect my_frame</p>
<div class="code highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">my_frame</span><span class="o">.</span><span class="n">inspect</span><span class="p">()</span>
<span class="go">[#]  a   w</span>
<span class="go">=======================</span>
<span class="go">[0]   2   1.70000004768</span>
<span class="go">[1]   3             0.5</span>
<span class="go">[2]   3   1.20000004768</span>
<span class="go">[3]   5  0.800000011921</span>
<span class="go">[4]   7   1.10000002384</span>
<span class="go">[5]  10  0.800000011921</span>
<span class="go">[6]  30   0.10000000149</span>
</pre></div>
</div>
<p>Compute and return middle number of values in column &#8216;a&#8217; with weights &#8216;w&#8217;:</p>
<div class="code highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">median</span> <span class="o">=</span> <span class="n">my_frame</span><span class="o">.</span><span class="n">column_median</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="n">weights_column</span><span class="o">=</span><span class="s">&#39;w&#39;</span><span class="p">)</span>
<span class="go">[===Job Progress===]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">median</span>
<span class="go">3</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
        </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container container-navbar-bottom">
      <div class="spc-navbar">
        
      </div>
    </div>
    <div class="container">
    <div class="footer">
    <div class="row-fluid">
    <ul class="inline pull-left">
      <li>
        &copy; Copyright 2015, Intel.
      </li>
      <li>
      Last updated on Dec 17, 2015.
      </li>
    </ul>
    </div>
    </div>
    </div>
  </body>
</html>