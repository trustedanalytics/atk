.. _python_api/frames/frame-edge/bin_column_equal_depth:


:doc:`EdgeFrame <index>`  bin_column_equal_depth
************************************************

------


.. function:: bin_column_equal_depth(self, column_name, num_bins=None, bin_column_name=None)

    Classify column into groups with the same frequency.


    :Parameters:

        **column_name** : unicode

        ..

            The column whose values are to be binned.



        **num_bins** : int32 (default=None)

        ..

            The maximum number of bins.
            Default is the Square-root choice
            :math:`\lfloor \sqrt{m} \rfloor`, where :math:`m` is the number of rows.



        **bin_column_name** : unicode (default=None)

        ..

            The name for the new column holding the grouping labels.
            Default is ``<column_name>_binned``.




    :Returns:

        : dict

        ..

            A list containing the edges of each bin.
    Group rows of data based on the value in a single column and add a label
    to identify grouping.

    Equal depth binning attempts to label rows such that each bin contains the
    same number of elements.
    For :math:`n` bins of a column :math:`C` of length :math:`m`, the bin
    number is determined by:

    .. math::

        \lceil n * \frac { f(C) }{ m } \rceil

    where :math:`f` is a tie-adjusted ranking function over values of
    :math:`C`.
    If there are multiples of the same value in :math:`C`, then their
    tie-adjusted rank is the average of their ordered rank values.

    **Notes**

    #)  Unicode in column names is not supported and will likely cause the
        drop_frames() method (and others) to fail!
    #)  The num_bins parameter is considered to be the maximum permissible number
        of bins because the data may dictate fewer bins.
        For example, if the column to be binned has a quantity of :math"`X`
        elements with only 2 distinct values and the *num_bins* parameter is
        greater than 2, then the actual number of bins will only be 2.
        This is due to a restriction that elements with an identical value must
        belong to the same bin.
